{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/benjaminshiao/Desktop/react/trade-analyzer/src/components/Backtest.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nexport const Backtest = ({\n  backtest\n}) => {\n  _s();\n\n  //delete this fodder backtest value later\n  backtest.profit = 5;\n  backtest.numTrades = 6;\n  backtest.avgBars = 7;\n  backtest.avgProfit = 8;\n  backtest.holdReturn = 9;\n  backtest.holdReturn = 430; //end of fodder\n\n  const defaultTimePeriod = () => {\n    switch (backtest.indicator) {\n      case 'RSI':\n        return 14;\n\n      case 'EMA':\n        return 9;\n\n      case 'SMA':\n        return 9;\n\n      case 'BB':\n        return 20;\n\n      default:\n        return 24;\n    }\n  };\n\n  const defaultBuyStrat = () => {\n    switch (backtest.indicator) {\n      case 'RSI':\n        return 30;\n\n      case 'EMA':\n        return -3;\n\n      case 'SMA':\n        return -3;\n\n      case 'BB':\n        return -3;\n\n      default:\n        return -3;\n    }\n  };\n\n  const [seriesType, setSeriesType] = useState('open');\n  const [timePeriod, setTimePeriod] = useState(defaultTimePeriod());\n  const [stdDeviation, setStdDeviation] = useState(2);\n  const [maxBags, setMaxBags] = useState(5);\n  const [initalBalance, setInitialBalance] = useState(10000);\n  const [initalBuyType, setInitalBuyType] = useState('usd');\n  const [initalBuyAmount, setInitalBuyAmount] = useState(1500);\n  const [buyStrategyValue, setBuyStrategyValue] = useState(defaultBuyStrat());\n  const [buyStrategyType, setBuyStrategyType] = useState('middle'); // Used for Bollinger upper/middle/lower\n\n  const [sellStrategyValue, setSellStrategyValue] = useState(1);\n  const {\n    deleteBacktest,\n    current_symbol,\n    cache_TSDA,\n    cache_TSDA_function\n  } = useContext(GlobalContext);\n\n  const dropdownItems = items => {\n    return items.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: item.value,\n      children: item.name\n    }, item.name, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 30\n    }, this));\n  };\n\n  async function runBacktests(paperAPICall, pairSettings) {\n    let stockPriceData;\n    let stockIndicatorData;\n    let response; // Ensure user has selected a stock\n\n    if (!current_symbol) {\n      alert(\"Please select a stock to test your strategy on.\");\n      return;\n    } // Ensure API json for cache_TSDA exists\n\n\n    if (!cache_TSDA['Meta Data']) {\n      response = await fetch(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=${current_symbol}&outputsize=full&apikey=CQ5JZQYM4DG0OODA`);\n      stockPriceData = await response.json();\n      cache_TSDA_function(stockPriceData); // Stop if MAX API\n\n      if (stockPriceData.Note) return;\n    } else {\n      stockPriceData = cache_TSDA;\n    } // Make API call for stockIndicatorData\n\n\n    let optionalParameters;\n\n    switch (backtest.indicator) {\n      case 'BBANDS':\n        optionalParameters = `&nbdevup=${pairSettings.stdDeviation}&nbdevdn=${pairSettings.stdDeviation}`;\n        break;\n\n      default:\n        optionalParameters = '';\n    }\n\n    response = await fetch(`https://www.alphavantage.co/query?function=${backtest.indicator}&symbol=${current_symbol}&interval=daily&time_period=${paperAPICall.timePeriod}&series_type=${paperAPICall.seriesType}${optionalParameters}&apikey=CQ5JZQYM4DG0OODA`);\n    stockIndicatorData = await response.json(); // Catches MAX API\n\n    if (stockIndicatorData.Note) {\n      alert(\"MAX API CALLS. Please wait a minute for more. Thank you for visitng my project! However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\");\n    } // AHHAHA 1/14/21 ben, I got the api calls they are here and they should not break.\n\n\n    console.log(stockPriceData, \"Break\\n\", stockIndicatorData);\n  }\n\n  const onSubmit = () => {\n    const paperAPICall = {\n      // Relavent variables that are global: current_symbol, interval(daily), backtest.indicator(ex, RSI)\n      seriesType: seriesType,\n      timePeriod: +timePeriod,\n      stdDeviation: +stdDeviation\n    };\n    const pairSettings = {\n      maxBags: +maxBags,\n      initalBalance: +initalBalance,\n      initalBuyType: initalBuyType,\n      initalBuyAmount: +initalBuyAmount,\n      buyStrategyValue: +buyStrategyValue,\n      buyStrategyType,\n      // used for Bollinger upper/middle/lower\n      sellStrategyValue: +sellStrategyValue\n    }; // Ensure no trivial strategies are submitted\n\n    if (pairSettings.maxBags < 1 || pairSettings.initalBalance < 1 || pairSettings.initalBuyAmount < 1 || pairSettings.sellStrategyValue < 0 || paperAPICall.timePeriod < 1) {\n      // Bags, balance, timeperiod, buy amount, sell gain% must be positive\n      alert(\"Please enter valid inputs. Use positive integers for the following: Max bags, Sell percentage, Time period, Buy amount, Inital Balance.\");\n    } else if (pairSettings.initalBuyType === 'percent' && (pairSettings.initalBuyAmount < 1 || pairSettings.initalBuyAmount > 100)) {\n      // if(buy type is percent) buy amount must be (0-100]\n      alert(\"Buy amount percentage must be 1-100%\");\n    } else if (pairSettings.initalBuyAmount > pairSettings.initalBalance) {\n      // inital buy must be < inital balance\n      alert(\"Inital buys must be less than or equal to inital balance.\");\n    } else if (backtest.indicator === 'RSI' && (pairSettings.buyStrategyValue < 1 || pairSettings.buyStrategyValue > 99)) {\n      // Ensure no trivial strategy specific settings are submitted <connect to previous if chain thing>\n      alert(\"RSI values must be between 1-99\");\n    } else if (backtest.indicator === 'BBANDS' && paperAPICall.stdDeviation < 0.5) {\n      // Ensure no trivial BB std deviation\n      alert(\"Standard Deviation must be greater than or equal to 0.5.\");\n    } else {\n      // Calculation inputs valid, run backtest algorithm\n      runBacktests(paperAPICall, pairSettings);\n    }\n  };\n\n  let indicatorSettingDOM = null;\n\n  switch (backtest.indicator) {\n    case 'RSI':\n      indicatorSettingDOM = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Time Period:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"14\",\n            onChange: e => setTimePeriod(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }, this)\n      }, void 0, false);\n      break;\n\n    case 'EMA':\n      indicatorSettingDOM = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Time Period:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"9\",\n            onChange: e => setTimePeriod(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 9\n        }, this)\n      }, void 0, false);\n      break;\n\n    case 'SMA':\n      indicatorSettingDOM = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Time Period:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"9\",\n            onChange: e => setTimePeriod(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 9\n        }, this)\n      }, void 0, false);\n      break;\n\n    case 'BBANDS':\n      indicatorSettingDOM = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Time Period:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"20\",\n            onChange: e => setTimePeriod(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Standard Deviation for upper/lower lines:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"2\",\n            onChange: e => setStdDeviation(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n      break;\n\n    default:\n      indicatorSettingDOM = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"indicaator setting dom default\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 30\n      }, this);\n  }\n\n  let buyStrategyDOM = null;\n\n  switch (backtest.indicator) {\n    case 'RSI':\n      buyStrategyDOM = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Buy at RSI \", \"<\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"30\",\n            onChange: e => setBuyStrategyValue(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 9\n        }, this)\n      }, void 0, false);\n      break;\n\n    case 'EMA':\n      buyStrategyDOM = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Buy at price\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"-3\",\n            onChange: e => setBuyStrategyValue(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 11\n          }, this), \"% away from EMA line.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 11\n          }, this), \"(3 = 3% above, -3 = 3% below)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 9\n        }, this)\n      }, void 0, false);\n      break;\n\n    case 'SMA':\n      buyStrategyDOM = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Buy at price\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"-3\",\n            onChange: e => setBuyStrategyValue(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }, this), \"% away from SMA line.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 11\n          }, this), \"(3 = 3% above, -3 = 3% below)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 9\n        }, this)\n      }, void 0, false);\n      break;\n\n    case 'BBANDS':\n      buyStrategyDOM = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Band to follow:\", /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: e => setBuyStrategyType(e.target.value),\n            children: dropdownItems([{\n              name: 'Upper',\n              value: 'Real Upper Band'\n            }, {\n              name: 'Middle',\n              value: 'Real Lower Band'\n            }, {\n              name: 'Lower',\n              value: 'Real Middle Band'\n            }])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Buy at price\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"-3\",\n            onChange: e => setBuyStrategyValue(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 11\n          }, this), \"% away from selected line.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 11\n          }, this), \"(3 = 3% above, -3 = 3% below)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n      break;\n\n    default:\n      buyStrategyDOM = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"buy strat dom default\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 25\n      }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row mx-4 my-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card w-25\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [backtest.indicator, \" Settings\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Select Series Type:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setSeriesType(e.target.value),\n          children: dropdownItems([{\n            name: 'open',\n            value: 'open'\n          }, {\n            name: 'close',\n            value: 'close'\n          }, {\n            name: 'high',\n            value: 'high'\n          }, {\n            name: 'low',\n            value: 'low'\n          }])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), indicatorSettingDOM, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Paper Bot Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Max number of bags:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"5\",\n          onChange: e => setMaxBags(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Inital balance (USD):\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: \"0\",\n          placeholder: \"10000\",\n          onChange: e => setInitialBalance(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Inital buy type:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setInitalBuyType(e.target.value),\n          children: dropdownItems([{\n            name: '($) USD',\n            value: 'usd'\n          }, {\n            name: '(%) Percent of Balance',\n            value: 'percent'\n          }, {\n            name: '(#) Number of Stocks',\n            value: 'numStocks'\n          }])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Inital buy amount:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"1500\",\n          onChange: e => setInitalBuyAmount(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), buyStrategyDOM, /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Sell at\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"1\",\n          onChange: e => setSellStrategyValue(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), \"% profit.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onSubmit(),\n        className: \"btn-secondary w-25\",\n        children: \"Calculate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => deleteBacktest(backtest.id),\n        className: \"btn-primary w-25\",\n        children: \"x\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card w-25\",\n      children: [\"Results overview\", /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Profit: \", backtest.profit, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Number of trades: \", backtest.numTrades]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Average bars per trade: \", backtest.avgBars]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Average profit per trade: \", backtest.avgProfit, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card w-25 d-flex mh-25\",\n      children: [\"List of trades\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message_wrap h-25\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message_box\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold returuy and hold returuy and hold returuy and hold returuy and hold returuy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Buy and hold return: \", backtest.holdReturn, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Backtest, \"V65lrFcZ/pjPEP2HNG7eDNyGA+k=\");\n\n_c = Backtest;\n\nvar _c;\n\n$RefreshReg$(_c, \"Backtest\");","map":{"version":3,"sources":["/Users/benjaminshiao/Desktop/react/trade-analyzer/src/components/Backtest.js"],"names":["React","useState","useContext","GlobalContext","Backtest","backtest","profit","numTrades","avgBars","avgProfit","holdReturn","defaultTimePeriod","indicator","defaultBuyStrat","seriesType","setSeriesType","timePeriod","setTimePeriod","stdDeviation","setStdDeviation","maxBags","setMaxBags","initalBalance","setInitialBalance","initalBuyType","setInitalBuyType","initalBuyAmount","setInitalBuyAmount","buyStrategyValue","setBuyStrategyValue","buyStrategyType","setBuyStrategyType","sellStrategyValue","setSellStrategyValue","deleteBacktest","current_symbol","cache_TSDA","cache_TSDA_function","dropdownItems","items","map","item","value","name","runBacktests","paperAPICall","pairSettings","stockPriceData","stockIndicatorData","response","alert","fetch","json","Note","optionalParameters","console","log","onSubmit","indicatorSettingDOM","e","target","buyStrategyDOM","id"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react'\nimport { GlobalContext } from '../context/GlobalState';\n\nexport const Backtest = ({ backtest }) => {\n  //delete this fodder backtest value later\n  backtest.profit = 5;\n  backtest.numTrades = 6;\n  backtest.avgBars = 7;\n  backtest.avgProfit = 8;\n  backtest.holdReturn = 9;\n\n  backtest.holdReturn = 430;\n  //end of fodder\n\n  const defaultTimePeriod = () => {\n    switch(backtest.indicator){\n      case 'RSI': return 14;\n      case 'EMA': return 9;\n      case 'SMA': return 9;\n      case 'BB': return 20;\n      default: return 24;\n    }\n  }\n  const defaultBuyStrat = () => {\n    switch(backtest.indicator){\n      case 'RSI': return 30;\n      case 'EMA': return -3;\n      case 'SMA': return -3;\n      case 'BB': return -3;\n      default: return -3;\n    }\n  }\n\n  const [seriesType, setSeriesType] = useState('open');\n  const [timePeriod, setTimePeriod] = useState(defaultTimePeriod());\n  const [stdDeviation, setStdDeviation] = useState(2);\n\n  const [maxBags, setMaxBags] = useState(5);\n  const [initalBalance, setInitialBalance] = useState(10000);\n  const [initalBuyType, setInitalBuyType] = useState('usd');\n  const [initalBuyAmount, setInitalBuyAmount] = useState(1500);\n  const [buyStrategyValue, setBuyStrategyValue] = useState(defaultBuyStrat());\n  const [buyStrategyType, setBuyStrategyType] = useState('middle'); // Used for Bollinger upper/middle/lower\n  const [sellStrategyValue, setSellStrategyValue] = useState(1);\n\n  const { deleteBacktest, current_symbol, cache_TSDA, cache_TSDA_function } = useContext(GlobalContext);\n\n  const dropdownItems = (items) => {\n    return items.map(item => <option value={item.value} key={item.name}>{item.name}</option>);\n  }\n\n  async function runBacktests(paperAPICall, pairSettings) {\n    let stockPriceData;\n    let stockIndicatorData;\n    let response;\n\n    // Ensure user has selected a stock\n    if(!current_symbol){\n      alert(\"Please select a stock to test your strategy on.\");\n      return;\n    }\n    \n    // Ensure API json for cache_TSDA exists\n    if(!cache_TSDA['Meta Data']){\n      response = await fetch(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=${current_symbol}&outputsize=full&apikey=CQ5JZQYM4DG0OODA`);\n      stockPriceData = await response.json();\n      cache_TSDA_function(stockPriceData);\n\n      // Stop if MAX API\n      if(stockPriceData.Note) return;\n    }else{\n      stockPriceData = cache_TSDA;\n    }\n\n    // Make API call for stockIndicatorData\n    let optionalParameters;\n    switch(backtest.indicator){\n      case 'BBANDS':\n        optionalParameters = `&nbdevup=${pairSettings.stdDeviation}&nbdevdn=${pairSettings.stdDeviation}`;\n        break;\n      default:\n        optionalParameters = '';\n    }\n    response = await fetch(`https://www.alphavantage.co/query?function=${backtest.indicator}&symbol=${current_symbol}&interval=daily&time_period=${paperAPICall.timePeriod}&series_type=${paperAPICall.seriesType}${optionalParameters}&apikey=CQ5JZQYM4DG0OODA`);\n    stockIndicatorData = await response.json();\n    // Catches MAX API\n    if(stockIndicatorData.Note){\n      alert(\"MAX API CALLS. Please wait a minute for more. Thank you for visitng my project! However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\");\n    }\n\n    // AHHAHA 1/14/21 ben, I got the api calls they are here and they should not break.\n    console.log(stockPriceData,\"Break\\n\", stockIndicatorData);\n  }\n\n  const onSubmit = () => {\n\n    const paperAPICall = { \n      // Relavent variables that are global: current_symbol, interval(daily), backtest.indicator(ex, RSI)\n      seriesType: seriesType,\n      timePeriod: +timePeriod,\n      stdDeviation: +stdDeviation\n    };\n\n    const pairSettings = {\n      maxBags: +maxBags,\n      initalBalance: +initalBalance,\n      initalBuyType: initalBuyType,\n      initalBuyAmount: +initalBuyAmount,\n      buyStrategyValue: +buyStrategyValue,\n      buyStrategyType, // used for Bollinger upper/middle/lower\n      sellStrategyValue: +sellStrategyValue\n    }\n\n    // Ensure no trivial strategies are submitted\n    if(pairSettings.maxBags<1 || pairSettings.initalBalance<1 || pairSettings.initalBuyAmount<1 || pairSettings.sellStrategyValue<0 || paperAPICall.timePeriod<1){\n      // Bags, balance, timeperiod, buy amount, sell gain% must be positive\n      alert(\"Please enter valid inputs. Use positive integers for the following: Max bags, Sell percentage, Time period, Buy amount, Inital Balance.\");\n    }else if(pairSettings.initalBuyType==='percent' && (pairSettings.initalBuyAmount<1 || pairSettings.initalBuyAmount>100)){\n      // if(buy type is percent) buy amount must be (0-100]\n      alert(\"Buy amount percentage must be 1-100%\");\n    }else if (pairSettings.initalBuyAmount>pairSettings.initalBalance){\n      // inital buy must be < inital balance\n      alert(\"Inital buys must be less than or equal to inital balance.\");\n    }else if(backtest.indicator==='RSI' && (pairSettings.buyStrategyValue<1 || pairSettings.buyStrategyValue>99)){\n      // Ensure no trivial strategy specific settings are submitted <connect to previous if chain thing>\n      alert(\"RSI values must be between 1-99\");\n    }else if(backtest.indicator==='BBANDS' && paperAPICall.stdDeviation<0.5){\n      // Ensure no trivial BB std deviation\n      alert(\"Standard Deviation must be greater than or equal to 0.5.\");\n    }else{\n      // Calculation inputs valid, run backtest algorithm\n      runBacktests(paperAPICall, pairSettings);\n    }\n  }\n\n  let indicatorSettingDOM = null;\n  switch(backtest.indicator){\n    case 'RSI':\n      indicatorSettingDOM = (<> \n        {/* Time Period(# candles in calc) */}\n        <label>\n          Time Period:\n          <input type='number' placeholder='14' onChange={(e) => setTimePeriod(e.target.value)} />\n        </label>\n      </>);\n      break;\n    case 'EMA':\n      indicatorSettingDOM = (<> \n        {/* Time Period(# candles in calc) */}\n        <label>\n          Time Period:\n          <input type='number' placeholder='9' onChange={(e) => setTimePeriod(e.target.value)} />\n        </label>\n      </>);\n      break;\n    case 'SMA':\n      indicatorSettingDOM = (<> \n        {/* Time Period(# candles in calc) */}\n        <label>\n          Time Period:\n          <input type='number' placeholder='9' onChange={(e) => setTimePeriod(e.target.value)} />\n        </label>\n      </>);\n      break;\n    case 'BBANDS':\n      indicatorSettingDOM = (<> \n        {/* Time Period(# candles in calc) */}\n        <label>\n          Time Period:\n          <input type='number' placeholder='20' onChange={(e) => setTimePeriod(e.target.value)} />\n        </label>\n\n        {/* Standard deviation for both top/bot lines */}\n        <label>\n          Standard Deviation for upper/lower lines:\n          <input type='number' placeholder='2' onChange={(e) => setStdDeviation(e.target.value)} />\n        </label>\n      </>);\n      break;\n    default:\n      indicatorSettingDOM = (<div>indicaator setting dom default</div>);\n    \n  }\n\n  let buyStrategyDOM = null;\n  switch(backtest.indicator){\n    case 'RSI':\n      buyStrategyDOM = (<> \n        {/* Buy Strategy RSI */}\n        <label>\n          Buy at RSI {\"<\"}\n          <input type='number' placeholder='30' onChange={(e) => setBuyStrategyValue(e.target.value)} />\n        </label>\n      </>);\n      break;\n    case 'EMA':\n      buyStrategyDOM = (<> \n        {/* Buy strategy % away */}\n        <label>\n          Buy at price \n          <input type='number' placeholder='-3' onChange={(e) => setBuyStrategyValue(e.target.value)} />\n          % away from EMA line. \n          <br/>\n          (3 = 3% above, -3 = 3% below)\n        </label>\n      </>);\n      break;\n    case 'SMA':\n      buyStrategyDOM = (<> \n        {/* Buy strategy % away */}\n        <label>\n          Buy at price \n          <input type='number' placeholder='-3' onChange={(e) => setBuyStrategyValue(e.target.value)} />\n          % away from SMA line. \n          <br/>\n          (3 = 3% above, -3 = 3% below)\n        </label>\n      </>);\n      break;\n    case 'BBANDS':\n      buyStrategyDOM = (<> \n        {/* Buy strategy % away (BB) */}\n        <label>\n          Band to follow:  \n          <select onChange={(e) => setBuyStrategyType(e.target.value)}>\n            {dropdownItems([\n              {name:'Upper', value:'Real Upper Band'},\n              {name:'Middle', value:'Real Lower Band'},\n              {name:'Lower', value:'Real Middle Band'}])}\n          </select>\n        </label>\n        <label>\n          Buy at price \n          <input type='number' placeholder='-3' onChange={(e) => setBuyStrategyValue(e.target.value)} />\n          % away from selected line. \n          <br/>\n          (3 = 3% above, -3 = 3% below)\n        </label>\n      </>);\n      break;\n    default:\n      buyStrategyDOM = (<div>buy strat dom default</div>);\n    \n  }\n\n  return (\n    <div className='row mx-4 my-2'>\n      <div className='card w-25'>\n        {/* Beginning of Settings */}\n        <h4>{backtest.indicator} Settings</h4>\n\n        {/* series type */}\n        <label>\n          Select Series Type:\n          <select onChange={(e) => setSeriesType(e.target.value)}>\n            {dropdownItems([\n              {name:'open', value:'open'},\n              {name:'close', value:'close'},\n              {name:'high', value:'high'},\n              {name:'low', value:'low'}])}\n          </select>\n        </label>\n        \n        {indicatorSettingDOM}\n\n        <br/>\n\n        <label>Paper Bot Settings</label>\n        {/* Max number bags */}\n        <label>\n          Max number of bags:\n          <input type='number' placeholder='5' onChange={(e) => setMaxBags(e.target.value)} />\n        </label>\n\n        {/* Inital balance */}\n        <label>\n        Inital balance (USD):\n          <input type='number' min='0' placeholder='10000' onChange={(e) => setInitialBalance(e.target.value)} />\n        </label>\n\n        {/* Inital buy (type/amount) */}\n        <label>\n        Inital buy type:\n          <select onChange={(e) => setInitalBuyType(e.target.value)}>\n            {dropdownItems([\n                {name:'($) USD', value:'usd'},\n                {name:'(%) Percent of Balance', value:'percent'},\n                {name:'(#) Number of Stocks', value:'numStocks'}])}\n            </select>\n        </label>\n        <label>\n        Inital buy amount:\n          <input type='number' placeholder='1500' onChange={(e) => setInitalBuyAmount(e.target.value)} />\n        </label>\n\n        {buyStrategyDOM}\n\n        {/* Sell Strategy */}\n        <label>\n          Sell at \n          <input type='number' placeholder='1' onChange={(e) => setSellStrategyValue(e.target.value)} />\n          % profit.\n        </label>\n\n        {/* submit button */}\n        <button onClick={() => onSubmit()} className=\"btn-secondary w-25\">Calculate</button>\n\n\n        {/* close button */}\n        <button onClick={() => deleteBacktest(backtest.id)} className=\"btn-primary w-25\">x</button>\n      </div>\n      {/* end of settings, beginning of results overview */}\n\n      <div className='card w-25'>\n        Results overview\n        <label>Profit: {backtest.profit}%</label>\n        <label>Number of trades: {backtest.numTrades}</label>\n        <label>Average bars per trade: {backtest.avgBars}</label>\n        <label>Average profit per trade: {backtest.avgProfit}%</label>\n        <label>Buy and hold return: {backtest.holdReturn}%</label>\n\n      </div>\n      \n      {/* End of results overview, begin list of trades */}\n\n      <div className='card w-25 d-flex mh-25'>\n        List of trades\n        <div className=\"message_wrap h-25\">\n          <div className=\"message_box\">\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold returuy and hold returuy and hold returuy and hold returuy and hold returuy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n            <label>Buy and hold return: {backtest.holdReturn}%</label>\n          </div>\n        </div>\n      </div>\n      \n      {/* End list of trades */}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}