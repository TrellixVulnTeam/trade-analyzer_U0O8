{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/benjaminshiao/Desktop/react/trade-analyzer/src/components/GraphSection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport Chart from \"./chart-components/Chart\";\nimport { GlobalContext } from '../context/GlobalState';\nimport \"../chart.css\";\nexport const GraphSection = () => {\n  _s();\n\n  //grab global variables/functions to call in this file\n  const {\n    graphData_AV_API\n  } = useContext(GlobalContext);\n  const chart_width = window.screen.availWidth * 2 / 3;\n  const chart_height = window.screen.availHeight * 2 / 3; // Processes update to API call and sends data to candlestick chart.\n\n  const processGraphData = () => {\n    let split_ratio = 1.0; //these two arrays are sus\n\n    let xAxis_times = [];\n    let graphDataProcessed = [];\n    let i = 0; // Iterate/translate API call to fit my charts inputs\n\n    for (let myDate in graphData_AV_API['Time Series (Daily)']) {\n      xAxis_times.push(myDate);\n      graphDataProcessed.push({\n        \"time\": i,\n        \"open\": +graphData_AV_API['Time Series (Daily)'][myDate]['1. open'] / split_ratio,\n        \"close\": +graphData_AV_API['Time Series (Daily)'][myDate]['4. close'] / split_ratio,\n        \"high\": +graphData_AV_API['Time Series (Daily)'][myDate]['2. high'] / split_ratio,\n        \"low\": +graphData_AV_API['Time Series (Daily)'][myDate]['3. low'] / split_ratio,\n        \"volume\": +graphData_AV_API['Time Series (Daily)'][myDate]['6. volume']\n      });\n      split_ratio *= +graphData_AV_API['Time Series (Daily)'][myDate]['8. split coefficient'];\n      i++;\n    }\n\n    graphDataProcessed.reverse();\n    return graphDataProcessed;\n  };\n\n  const update_symbol = () => {\n    return graphData_AV_API['Meta Data']['2. Symbol'];\n  }; // Only for intialization: maybe make it display SPY as default\n\n\n  const [data, setData] = useState(() => processGraphData());\n  const [current_symbol] = useState(() => update_symbol()); // Whenever graphData_AV_API is changed, code below will update graph\n\n  useEffect(() => {\n    setData(processGraphData());\n  }, [graphData_AV_API]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      value: current_symbol,\n      children: [current_symbol, \"test\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Chart, {\n      data: data,\n      width: chart_width,\n      height: chart_height\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(GraphSection, \"sNm0Z+y6g4IYOCFym4w+rCnNF0o=\");\n\n_c = GraphSection;\n\nvar _c;\n\n$RefreshReg$(_c, \"GraphSection\");","map":{"version":3,"sources":["/Users/benjaminshiao/Desktop/react/trade-analyzer/src/components/GraphSection.js"],"names":["React","useContext","useEffect","useState","Chart","GlobalContext","GraphSection","graphData_AV_API","chart_width","window","screen","availWidth","chart_height","availHeight","processGraphData","split_ratio","xAxis_times","graphDataProcessed","i","myDate","push","reverse","update_symbol","data","setData","current_symbol"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AAEA,SAASC,aAAT,QAA8B,wBAA9B;AACA,OAAO,cAAP;AAGA,OAAO,MAAMC,YAAY,GAAG,MAAM;AAAA;;AAChC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAuBN,UAAU,CAACI,aAAD,CAAvC;AAEA,QAAMG,WAAW,GAAGC,MAAM,CAACC,MAAP,CAAcC,UAAd,GAAyB,CAAzB,GAA2B,CAA/C;AACA,QAAMC,YAAY,GAAGH,MAAM,CAACC,MAAP,CAAcG,WAAd,GAA0B,CAA1B,GAA4B,CAAjD,CALgC,CAOhC;;AACA,QAAMC,gBAAgB,GAAG,MAAM;AAC7B,QAAIC,WAAW,GAAG,GAAlB,CAD6B,CAG7B;;AACA,QAAIC,WAAW,GAAG,EAAlB;AACA,QAAIC,kBAAkB,GAAG,EAAzB;AAEA,QAAIC,CAAC,GAAG,CAAR,CAP6B,CAQ7B;;AACA,SAAI,IAAIC,MAAR,IAAkBZ,gBAAgB,CAAC,qBAAD,CAAlC,EAA0D;AACxDS,MAAAA,WAAW,CAACI,IAAZ,CAAiBD,MAAjB;AACAF,MAAAA,kBAAkB,CAACG,IAAnB,CAAwB;AACtB,gBAAQF,CADc;AAEtB,gBAAQ,CAACX,gBAAgB,CAAC,qBAAD,CAAhB,CAAwCY,MAAxC,EAAgD,SAAhD,CAAD,GAA4DJ,WAF9C;AAGtB,iBAAS,CAACR,gBAAgB,CAAC,qBAAD,CAAhB,CAAwCY,MAAxC,EAAgD,UAAhD,CAAD,GAA6DJ,WAHhD;AAItB,gBAAQ,CAACR,gBAAgB,CAAC,qBAAD,CAAhB,CAAwCY,MAAxC,EAAgD,SAAhD,CAAD,GAA4DJ,WAJ9C;AAKtB,eAAO,CAACR,gBAAgB,CAAC,qBAAD,CAAhB,CAAwCY,MAAxC,EAAgD,QAAhD,CAAD,GAA2DJ,WAL5C;AAMtB,kBAAU,CAACR,gBAAgB,CAAC,qBAAD,CAAhB,CAAwCY,MAAxC,EAAgD,WAAhD;AANW,OAAxB;AAQAJ,MAAAA,WAAW,IAAI,CAACR,gBAAgB,CAAC,qBAAD,CAAhB,CAAwCY,MAAxC,EAAgD,sBAAhD,CAAhB;AACAD,MAAAA,CAAC;AACF;;AACDD,IAAAA,kBAAkB,CAACI,OAAnB;AACA,WAAOJ,kBAAP;AACD,GAxBD;;AAyBA,QAAMK,aAAa,GAAG,MAAM;AAC1B,WAAOf,gBAAgB,CAAC,WAAD,CAAhB,CAA8B,WAA9B,CAAP;AACD,GAFD,CAjCgC,CAoChC;;;AACA,QAAM,CAACgB,IAAD,EAAOC,OAAP,IAAkBrB,QAAQ,CAAC,MAAMW,gBAAgB,EAAvB,CAAhC;AACA,QAAM,CAACW,cAAD,IAAmBtB,QAAQ,CAAC,MAAMmB,aAAa,EAApB,CAAjC,CAtCgC,CAuChC;;AACApB,EAAAA,SAAS,CAAC,MAAM;AACdsB,IAAAA,OAAO,CAACV,gBAAgB,EAAjB,CAAP;AACD,GAFQ,EAEN,CAACP,gBAAD,CAFM,CAAT,CAxCgC,CA0CR;;AAGxB,sBACE;AAAA,4BACE;AAAI,MAAA,KAAK,EAAEkB,cAAX;AAAA,iBAA4BA,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,KAAD;AAAO,MAAA,IAAI,EAAEF,IAAb;AAAmB,MAAA,KAAK,EAAEf,WAA1B;AAAuC,MAAA,MAAM,EAAEI;AAA/C;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA,kBADF;AAMD,CAnDM;;GAAMN,Y;;KAAAA,Y","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport Chart from \"./chart-components/Chart\";\n\nimport { GlobalContext } from '../context/GlobalState';\nimport \"../chart.css\";\n\n\nexport const GraphSection = () => {\n  //grab global variables/functions to call in this file\n  const { graphData_AV_API } = useContext(GlobalContext);\n\n  const chart_width = window.screen.availWidth*2/3;\n  const chart_height = window.screen.availHeight*2/3;\n\n  // Processes update to API call and sends data to candlestick chart.\n  const processGraphData = () => {\n    let split_ratio = 1.0;\n\n    //these two arrays are sus\n    let xAxis_times = [];\n    let graphDataProcessed = [];\n\n    let i = 0\n    // Iterate/translate API call to fit my charts inputs\n    for(let myDate in graphData_AV_API['Time Series (Daily)']){\n      xAxis_times.push(myDate);\n      graphDataProcessed.push({\n        \"time\": i,\n        \"open\": +graphData_AV_API['Time Series (Daily)'][myDate]['1. open']/split_ratio,\n        \"close\": +graphData_AV_API['Time Series (Daily)'][myDate]['4. close']/split_ratio,\n        \"high\": +graphData_AV_API['Time Series (Daily)'][myDate]['2. high']/split_ratio,\n        \"low\": +graphData_AV_API['Time Series (Daily)'][myDate]['3. low']/split_ratio,\n        \"volume\": +graphData_AV_API['Time Series (Daily)'][myDate]['6. volume']\n      });\n      split_ratio *= +graphData_AV_API['Time Series (Daily)'][myDate]['8. split coefficient'];\n      i++;\n    }\n    graphDataProcessed.reverse();\n    return graphDataProcessed;\n  };\n  const update_symbol = () => {\n    return graphData_AV_API['Meta Data']['2. Symbol'];\n  }\n  // Only for intialization: maybe make it display SPY as default\n  const [data, setData] = useState(() => processGraphData());\n  const [current_symbol] = useState(() => update_symbol());\n  // Whenever graphData_AV_API is changed, code below will update graph\n  useEffect(() => {\n    setData(processGraphData());\n  }, [graphData_AV_API]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n  return (\n    <>\n      <h1 value={current_symbol}>{current_symbol}test</h1>\n      <Chart data={data} width={chart_width} height={chart_height} />\n    </>\n  )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}